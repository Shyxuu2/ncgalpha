(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const x=t=>typeof t=="string",de=()=>{let t,e;const n=new Promise((s,i)=>{t=s,e=i});return n.resolve=t,n.reject=e,n},qt=t=>t==null?"":""+t,hi=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},pi=/###/g,Bt=t=>t&&t.indexOf("###")>-1?t.replace(pi,"."):t,Xt=t=>!t||x(t),he=(t,e,n)=>{const s=x(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(Xt(t))return{};const r=Bt(s[i]);!t[r]&&n&&(t[r]=new n),Object.prototype.hasOwnProperty.call(t,r)?t=t[r]:t={},++i}return Xt(t)?{}:{obj:t,k:Bt(s[i])}},Ut=(t,e,n)=>{const{obj:s,k:i}=he(t,e,Object);if(s!==void 0||e.length===1){s[i]=n;return}let r=e[e.length-1],a=e.slice(0,e.length-1),o=he(t,a,Object);for(;o.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),o=he(t,a,Object),o?.obj&&typeof o.obj[`${o.k}.${r}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=n},gi=(t,e,n,s)=>{const{obj:i,k:r}=he(t,e,Object);i[r]=i[r]||[],i[r].push(n)},Pe=(t,e)=>{const{obj:n,k:s}=he(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},mi=(t,e,n)=>{const s=Pe(t,n);return s!==void 0?s:Pe(e,n)},Nn=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?x(t[s])||t[s]instanceof String||x(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):Nn(t[s],e[s],n):t[s]=e[s]);return t},re=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var bi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const xi=t=>x(t)?t.replace(/[&<>"'\/]/g,e=>bi[e]):t;class yi{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const vi=[" ",",","?","!",";"],Mi=new yi(20),wi=(t,e,n)=>{e=e||"",n=n||"";const s=vi.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(s.length===0)return!0;const i=Mi.getRegExp(`(${s.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(t);if(!r){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(r=!0)}return r},St=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(n);let i=t;for(let r=0;r<s.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=r;l<s.length;++l)if(l!==r&&(o+=n),o+=s[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<s.length-1)continue;r+=l-r+1;break}i=a}return i},me=t=>t?.replace("_","-"),Si={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Ne{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Si,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,i){return i&&!this.debug?null:(x(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Ne(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ne(this.logger,e)}}var V=new Ne;class Fe{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(n)||0;this.observers[s].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,r])=>{for(let a=0;a<r;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,r])=>{for(let a=0;a<r;a++)i.apply(i,[e,...n])})}}class Jt extends Fe{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,i={}){const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],s&&(Array.isArray(s)?o.push(...s):x(s)&&r?o.push(...s.split(r)):o.push(s)));const l=Pe(this.data,o);return!l&&!n&&!s&&e.indexOf(".")>-1&&(e=o[0],n=o[1],s=o.slice(2).join(".")),l||!a||!x(s)?l:St(this.data?.[e]?.[n],s,r)}addResource(e,n,s,i,r={silent:!1}){const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=[e,n];s&&(o=o.concat(a?s.split(a):s)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),Ut(this.data,o,i),r.silent||this.emit("added",e,n,s,i)}addResources(e,n,s,i={silent:!1}){for(const r in s)(x(s[r])||Array.isArray(s[r]))&&this.addResource(e,n,r,s[r],{silent:!0});i.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,i,r,a={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=s,s=n,n=o[1]),this.addNamespaces(n);let l=Pe(this.data,o)||{};a.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?Nn(l,s,r):l={...l,...s},Ut(this.data,o,l),a.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Cn={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,i){return t.forEach(r=>{e=this.processors[r]?.process(e,n,s,i)??e}),e}};const Rn=Symbol("i18next/PATH_KEY");function $i(){const t=[],e=Object.create(null);let n;return e.get=(s,i)=>(n?.revoke?.(),i===Rn?t:(t.push(i),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function $t(t,e){const{[Rn]:n}=t($i());return n.join(e?.keySeparator??".")}const Yt={},Ge=t=>!x(t)&&typeof t!="boolean"&&typeof t!="number";class Ce extends Fe{constructor(e,n={}){super(),hi(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=V.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};if(e==null)return!1;const i=this.resolve(e,s);if(i?.res===void 0)return!1;const r=Ge(i.res);return!(s.returnObjects===!1&&r)}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let r=n.ns||this.options.defaultNS||[];const a=s&&e.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!wi(e,s,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:x(r)?[r]:r};const f=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(f[0])>-1)&&(r=f.shift()),e=f.join(i)}return{key:e,namespaces:x(r)?[r]:r}}translate(e,n,s){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=$t(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),f=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return p?r?{res:`${f}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${u}${o}`:r?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:o;const g=this.resolve(e,i);let m=g?.res;const y=g?.usedKey||o,v=g?.exactUsedKey||o,S=["[object Number]","[object Function]","[object RegExp]"],M=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,O=i.count!==void 0&&!x(i.count),E=Ce.hasDefaultValue(i),H=O?this.pluralResolver.getSuffix(d,i.count,i):"",D=i.ordinal&&O?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",U=O&&!i.ordinal&&i.count===0,_=U&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${H}`]||i[`defaultValue${D}`]||i.defaultValue;let N=m;R&&!m&&E&&(N=_);const q=Ge(N),ee=Object.prototype.toString.apply(N);if(R&&N&&q&&S.indexOf(ee)<0&&!(x(M)&&Array.isArray(N))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,N,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(g.res=I,g.usedParams=this.getUsedParamsDetails(i),g):I}if(a){const I=Array.isArray(N),z=I?[]:{},Se=I?v:y;for(const j in N)if(Object.prototype.hasOwnProperty.call(N,j)){const F=`${Se}${a}${j}`;E&&!m?z[j]=this.translate(F,{...i,defaultValue:Ge(_)?_[j]:void 0,joinArrays:!1,ns:l}):z[j]=this.translate(F,{...i,joinArrays:!1,ns:l}),z[j]===F&&(z[j]=N[j])}m=z}}else if(R&&x(M)&&Array.isArray(m))m=m.join(M),m&&(m=this.extendTranslation(m,e,i,s));else{let I=!1,z=!1;!this.isValidLookup(m)&&E&&(I=!0,m=_),this.isValidLookup(m)||(z=!0,m=o);const j=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:m,F=E&&_!==m&&this.options.updateMissing;if(z||I||F){if(this.logger.log(F?"updateKey":"missingKey",d,f,o,F?_:m),a){const T=this.resolve(o,{...i,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let T=0;T<Y.length;T++)J.push(Y[T]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(i.lng||this.language):J.push(i.lng||this.language);const $e=(T,A,Z)=>{const se=E&&Z!==m?Z:j;this.options.missingKeyHandler?this.options.missingKeyHandler(T,f,A,se,F,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(T,f,A,se,F,i),this.emit("missingKey",T,f,A,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?J.forEach(T=>{const A=this.pluralResolver.getSuffixes(T,i);U&&i[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(Z=>{$e([T],o+Z,i[`defaultValue${Z}`]||_)})}):$e(J,o,_))}m=this.extendTranslation(m,e,i,g,s),z&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${f}${u}${o}`),(z||I)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${u}${o}`:o,I?m:void 0,i))}return r?(g.res=m,g.usedParams=this.getUsedParamsDetails(i),g):m}extendTranslation(e,n,s,i,r){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const l=x(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(l){const d=e.match(this.interpolator.nestingRegexp);f=d&&d.length}let u=s.replace&&!x(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,s.lng||this.language||i.usedLng,s),l){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;f<p&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>r?.[0]===d[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),s)),s.interpolation&&this.interpolator.reset()}const a=s.postProcess||this.options.postProcess,o=x(a)?[a]:a;return e!=null&&o?.length&&s.applyPostProcessor!==!1&&(e=Cn.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,i,r,a,o;return x(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(s))return;const f=this.extractFromKey(l,n),u=f.key;i=u;let d=f.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const p=n.count!==void 0&&!x(n.count),g=p&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(x(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{this.isValidLookup(s)||(o=v,!Yt[`${y[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Yt[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(S=>{if(this.isValidLookup(s))return;a=S;const M=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(M,u,S,v,n);else{let O;p&&(O=this.pluralResolver.getSuffix(S,n.count,n));const E=`${this.options.pluralSeparator}zero`,H=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&O.indexOf(H)===0&&M.push(u+O.replace(H,this.options.pluralSeparator)),M.push(u+O),g&&M.push(u+E)),m){const D=`${u}${this.options.contextSeparator||"_"}${n.context}`;M.push(D),p&&(n.ordinal&&O.indexOf(H)===0&&M.push(D+O.replace(H,this.options.pluralSeparator)),M.push(D+O),g&&M.push(D+E))}}let R;for(;R=M.pop();)this.isValidLookup(s)||(r=R,s=this.getResource(S,v,R,n))}))})}),{res:s,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,i):this.resourceStore.getResource(e,n,s,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!x(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const r of n)delete i[r]}return i}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class Zt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=V.create("languageUtils")}getScriptPartFromCode(e){if(e=me(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=me(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(x(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return n=i;const r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return n=r;n=this.options.supportedLngs.find(a=>{if(a===r)return a;if(!(a.indexOf("-")<0&&r.indexOf("-")<0)&&(a.indexOf("-")>0&&r.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===r||a.indexOf(r)===0&&r.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),x(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return x(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):x(e)&&r(this.formatLanguageCode(e)),s.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}const Wt={zero:0,one:1,two:2,few:3,many:4,other:5},Gt={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ki{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=V.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=me(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:s,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Gt;if(!e.match(/-|_/))return Gt;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[r]=a,a}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((i,r)=>Wt[i]-Wt[r]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const Qt=(t,e,n,s=".",i=!0)=>{let r=mi(t,e,n);return!r&&i&&x(n)&&(r=St(t,n,s),r===void 0&&(r=St(e,n,s))),r},Qe=t=>t.replace(/\$/g,"$$$$");class Li{constructor(e={}){this.logger=V.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:f,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:m,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:S,alwaysFormat:M}=e.interpolation;this.escape=n!==void 0?n:xi,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?re(r):a||"{{",this.suffix=o?re(o):l||"}}",this.formatSeparator=f||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?re(p):g||re("$t("),this.nestingSuffix=m?re(m):y||re(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=S||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,i){let r,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=g=>{if(g.indexOf(this.formatSeparator)<0){const S=Qt(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,s,{...i,...n,interpolationkey:g}):S}const m=g.split(this.formatSeparator),y=m.shift().trim(),v=m.join(this.formatSeparator).trim();return this.format(Qt(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,s,{...i,...n,interpolationkey:y})};this.resetRegExp();const u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Qe(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Qe(this.escape(g)):Qe(g)}].forEach(g=>{for(o=0;r=g.regex.exec(e);){const m=r[1].trim();if(a=f(m),a===void 0)if(typeof u=="function"){const v=u(e,r,i);a=x(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))a="";else if(d){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),a="";else!x(a)&&!this.useRawValueToEscape&&(a=qt(a));const y=g.safeValue(a);if(e=e.replace(r[0],y),d?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=r[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,s={}){let i,r,a;const o=(l,f)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let p=`{${d[1]}`;l=d[0],p=this.interpolate(p,a);const g=p.match(/'/g),m=p.match(/"/g);((g?.length??0)%2===0&&!m||m.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),f&&(a={...f,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...s},a=a.replace&&!x(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(l=i[1].slice(f).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),r=n(o.call(this,i[1].trim(),a),a),r&&i[0]===e&&!x(r))return r;x(r)||(r=qt(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),l.length&&(r=l.reduce((u,d)=>this.format(u,d,s.lng,{...s,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const Oi=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),f=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=f),f==="false"&&(n[u]=!1),f==="true"&&(n[u]=!0),isNaN(f)||(n[u]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},en=t=>{const e={};return(n,s,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=s+JSON.stringify(r);let o=e[a];return o||(o=t(me(s),i),e[a]=o),o(n)}},Pi=t=>(e,n,s)=>t(me(n),s)(e);class Ni{constructor(e={}){this.logger=V.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?en:Pi;this.formats={number:s((i,r)=>{const a=new Intl.NumberFormat(i,{...r});return o=>a.format(o)}),currency:s((i,r)=>{const a=new Intl.NumberFormat(i,{...r,style:"currency"});return o=>a.format(o)}),datetime:s((i,r)=>{const a=new Intl.DateTimeFormat(i,{...r});return o=>a.format(o)}),relativetime:s((i,r)=>{const a=new Intl.RelativeTimeFormat(i,{...r});return o=>a.format(o,r.range||"day")}),list:s((i,r)=>{const a=new Intl.ListFormat(i,{...r});return o=>a.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=en(n)}format(e,n,s,i={}){const r=n.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(o=>o.indexOf(")")>-1)){const o=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,o)].join(this.formatSeparator)}return r.reduce((o,l)=>{const{formatName:f,formatOptions:u}=Oi(l);if(this.formats[f]){let d=o;try{const p=i?.formatParams?.[i.interpolationkey]||{},g=p.locale||p.lng||i.locale||i.lng||s;d=this.formats[f](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${f}`);return o},e)}}const Ci=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Ri extends Fe{constructor(e,n,s,i={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=V.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,i.backend,i)}queueLoad(e,n,s,i){const r={},a={},o={},l={};return e.forEach(f=>{let u=!0;n.forEach(d=>{const p=`${f}|${d}`;!s.reload&&this.store.hasResourceBundle(f,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,u=!1,a[p]===void 0&&(a[p]=!0),r[p]===void 0&&(r[p]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[f]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,s){const i=e.split("|"),r=i[0],a=i[1];n&&this.emit("failedLoading",r,a,n),!n&&s&&this.store.addResourceBundle(r,a,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const o={};this.queue.forEach(l=>{gi(l.loaded,[r],a),Ci(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(f=>{o[f]||(o[f]={});const u=l.loaded[f];u.length&&u.forEach(d=>{o[f][d]===void 0&&(o[f][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,s,i=0,r=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:i,wait:r,callback:a});return}this.readingCalls++;const o=(f,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(f&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,i+1,r*2,a)},r);return}a(f,u)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const f=l(e,n);f&&typeof f.then=="function"?f.then(u=>o(null,u)).catch(o):o(null,f)}catch(f){o(f)}return}return l(e,n,o)}prepareLoading(e,n,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();x(e)&&(e=this.languageUtils.toResolveHierarchy(e)),x(n)&&(n=[n]);const r=this.queueLoad(e,n,s,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),i=s[0],r=s[1];this.read(i,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${r} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${r} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,n,s,i,r,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const l={...a,isUpdate:r},f=this.backend.create.bind(this.backend);if(f.length<6)try{let u;f.length===5?u=f(e,n,s,i,l):u=f(e,n,s,i),u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}else f(e,n,s,i,o,l)}!e||!e[0]||this.store.addResource(e[0],n,s,i)}}}const tn=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),x(t[1])&&(e.defaultValue=t[1]),x(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),nn=t=>(x(t.ns)&&(t.ns=[t.ns]),x(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),x(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),ke=()=>{},Ti=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class pe extends Fe{constructor(e={},n){if(super(),this.options=nn(e),this.services={},this.logger=V,this.modules={external:[]},Ti(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(x(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=tn();this.options={...s,...this.options,...nn(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?V.init(i(this.modules.logger),this.options):V.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Ni;const u=new Zt(this.options);this.store=new Jt(this.options.resources,this.options);const d=this.services;d.logger=V,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new ki(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=i(f),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Li(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Ri(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Ce(this.services,this.options),this.translator.on("*",(g,...m)=>{this.emit(g,...m)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ke),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...u)=>this.store[f](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...u)=>(this.store[f](...u),this)});const o=de(),l=()=>{const f=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=ke){let s=n;const i=x(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(f=>{f!=="cimode"&&r.indexOf(f)<0&&r.push(f)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(e,n,s){const i=de();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=ke),this.services.backendConnector.reload(e,n,r=>{i.resolve(),s(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Cn.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=de();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},r=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,s.resolve((...f)=>this.t(...f)),n&&n(o,(...f)=>this.t(...f))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=x(o)?o:o&&o[0],f=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(x(o)?[o]:o);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,u=>{r(u,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),s}getFixedT(e,n,s){const i=(r,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([r,a].concat(o)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||i.keyPrefix);const f=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(r)?u=r.map(d=>(typeof d=="function"&&(d=$t(d,{...this.options,...a})),`${l.keyPrefix}${f}${d}`)):(typeof r=="function"&&(r=$t(r,{...this.options,...a})),u=l.keyPrefix?`${l.keyPrefix}${f}${r}`:r),this.t(u,l)};return x(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=s,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const f=this.services.backendConnector.state[`${o}|${l}`];return f===-1||f===0||f===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(s,e)&&(!i||a(r,e)))}loadNamespaces(e,n){const s=de();return this.options.ns?(x(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),n&&n(i)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=de();x(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{s.resolve(),n&&n(a)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const r=i.getTextInfo();if(r&&r.direction)return r.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Zt(tn());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const s=new pe(e,n);return s.createInstance=pe.createInstance,s}cloneInstance(e={},n=ke){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new pe(i);if((e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},s){const o=Object.keys(this.store.data).reduce((l,f)=>(l[f]={...this.store.data[f]},l[f]=Object.keys(l[f]).reduce((u,d)=>(u[d]={...l[f][d]},u),l[f]),l),{});r.store=new Jt(o,i),r.services.resourceStore=r.store}return r.translator=new Ce(r.services,i),r.translator.on("*",(o,...l)=>{r.emit(o,...l)}),r.init(i,n),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $=pe.createInstance();$.createInstance;$.dir;$.init;$.loadResources;$.reloadResources;$.use;$.changeLanguage;$.getFixedT;$.t;$.exists;$.setDefaultNamespace;$.hasLoadedNamespace;$.loadNamespaces;$.loadLanguages;const Tn=(t,e)=>{if(typeof t=="number"){if(e===3)return{mode:"rgb",r:(t>>8&15|t>>4&240)/255,g:(t>>4&15|t&240)/255,b:(t&15|t<<4&240)/255};if(e===4)return{mode:"rgb",r:(t>>12&15|t>>8&240)/255,g:(t>>8&15|t>>4&240)/255,b:(t>>4&15|t&240)/255,alpha:(t&15|t<<4&240)/255};if(e===6)return{mode:"rgb",r:(t>>16&255)/255,g:(t>>8&255)/255,b:(t&255)/255};if(e===8)return{mode:"rgb",r:(t>>24&255)/255,g:(t>>16&255)/255,b:(t>>8&255)/255,alpha:(t&255)/255}}},zi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ei=t=>Tn(zi[t.toLowerCase()],6),_i=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,Ii=t=>{let e;return(e=t.match(_i))?Tn(parseInt(e[1],16),e[1].length):void 0},W="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",ge=`${W}%`,_t=`(?:${W}%|${W})`,ji=`(?:${W}(deg|grad|rad|turn)|${W})`,oe="\\s*,\\s*",Fi=new RegExp(`^rgba?\\(\\s*${W}${oe}${W}${oe}${W}\\s*(?:,\\s*${_t}\\s*)?\\)$`),Hi=new RegExp(`^rgba?\\(\\s*${ge}${oe}${ge}${oe}${ge}\\s*(?:,\\s*${_t}\\s*)?\\)$`),Di=t=>{let e={mode:"rgb"},n;if(n=t.match(Fi))n[1]!==void 0&&(e.r=n[1]/255),n[2]!==void 0&&(e.g=n[2]/255),n[3]!==void 0&&(e.b=n[3]/255);else if(n=t.match(Hi))n[1]!==void 0&&(e.r=n[1]/100),n[2]!==void 0&&(e.g=n[2]/100),n[3]!==void 0&&(e.b=n[3]/100);else return;return n[4]!==void 0?e.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(e.alpha=Math.max(0,Math.min(1,+n[5]))),e},Ai=(t,e)=>t===void 0?void 0:typeof t!="object"?Wi(t):t.mode!==void 0?t:e?{...t,mode:e}:void 0,zn=(t="rgb")=>e=>(e=Ai(e,t))!==void 0?e.mode===t?e:K[e.mode][t]?K[e.mode][t](e):t==="rgb"?K[e.mode].rgb(e):K.rgb[t](K[e.mode].rgb(e)):void 0,K={},En={},Re=[],_n={},Ki=t=>t,w=t=>(K[t.mode]={...K[t.mode],...t.toMode},Object.keys(t.fromMode||{}).forEach(e=>{K[e]||(K[e]={}),K[e][t.mode]=t.fromMode[e]}),t.ranges||(t.ranges={}),t.difference||(t.difference={}),t.channels.forEach(e=>{if(t.ranges[e]===void 0&&(t.ranges[e]=[0,1]),!t.interpolate[e])throw new Error(`Missing interpolator for: ${e}`);typeof t.interpolate[e]=="function"&&(t.interpolate[e]={use:t.interpolate[e]}),t.interpolate[e].fixup||(t.interpolate[e].fixup=Ki)}),En[t.mode]=t,(t.parse||[]).forEach(e=>{qi(e,t.mode)}),zn(t.mode)),Vi=t=>En[t],qi=(t,e)=>{if(typeof t=="string"){if(!e)throw new Error("'mode' required when 'parser' is a string");_n[t]=e}else typeof t=="function"&&Re.indexOf(t)<0&&Re.push(t)},kt=/[^\x00-\x7F]|[a-zA-Z_]/,Bi=/[^\x00-\x7F]|[-\w]/,c={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let b=0;function Le(t){let e=t[b],n=t[b+1];return e==="-"||e==="+"?/\d/.test(n)||n==="."&&/\d/.test(t[b+2]):e==="."?/\d/.test(n):/\d/.test(e)}function Lt(t){if(b>=t.length)return!1;let e=t[b];if(kt.test(e))return!0;if(e==="-"){if(t.length-b<2)return!1;let n=t[b+1];return!!(n==="-"||kt.test(n))}return!1}const Xi={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function ce(t){let e="";if((t[b]==="-"||t[b]==="+")&&(e+=t[b++]),e+=Oe(t),t[b]==="."&&/\d/.test(t[b+1])&&(e+=t[b++]+Oe(t)),(t[b]==="e"||t[b]==="E")&&((t[b+1]==="-"||t[b+1]==="+")&&/\d/.test(t[b+2])?e+=t[b++]+t[b++]+Oe(t):/\d/.test(t[b+1])&&(e+=t[b++]+Oe(t))),Lt(t)){let n=Te(t);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:c.Hue,value:e*Xi[n]}:void 0}return t[b]==="%"?(b++,{type:c.Percentage,value:+e}):{type:c.Number,value:+e}}function Oe(t){let e="";for(;/\d/.test(t[b]);)e+=t[b++];return e}function Te(t){let e="";for(;b<t.length&&Bi.test(t[b]);)e+=t[b++];return e}function Ui(t){let e=Te(t);return t[b]==="("?(b++,{type:c.Function,value:e}):e==="none"?{type:c.None,value:void 0}:{type:c.Ident,value:e}}function Ji(t=""){let e=t.trim(),n=[],s;for(b=0;b<e.length;){if(s=e[b++],s===`
`||s==="	"||s===" "){for(;b<e.length&&(e[b]===`
`||e[b]==="	"||e[b]===" ");)b++;continue}if(s===",")return;if(s===")"){n.push({type:c.ParenClose});continue}if(s==="+"){if(b--,Le(e)){n.push(ce(e));continue}return}if(s==="-"){if(b--,Le(e)){n.push(ce(e));continue}if(Lt(e)){n.push({type:c.Ident,value:Te(e)});continue}return}if(s==="."){if(b--,Le(e)){n.push(ce(e));continue}return}if(s==="/"){for(;b<e.length&&(e[b]===`
`||e[b]==="	"||e[b]===" ");)b++;let i;if(Le(e)&&(i=ce(e),i.type!==c.Hue)){n.push({type:c.Alpha,value:i});continue}if(Lt(e)&&Te(e)==="none"){n.push({type:c.Alpha,value:{type:c.None,value:void 0}});continue}return}if(/\d/.test(s)){b--,n.push(ce(e));continue}if(kt.test(s)){b--,n.push(Ui(e));continue}return}return n}function Yi(t){t._i=0;let e=t[t._i++];if(!e||e.type!==c.Function||e.value!=="color"||(e=t[t._i++],e.type!==c.Ident))return;const n=_n[e.value];if(!n)return;const s={mode:n},i=In(t,!1);if(!i)return;const r=Vi(n).channels;for(let a=0,o,l;a<r.length;a++)o=i[a],l=r[a],o.type!==c.None&&(s[l]=o.type===c.Number?o.value:o.value/100,l==="alpha"&&(s[l]=Math.max(0,Math.min(1,s[l]))));return s}function In(t,e){const n=[];let s;for(;t._i<t.length;){if(s=t[t._i++],s.type===c.None||s.type===c.Number||s.type===c.Alpha||s.type===c.Percentage||e&&s.type===c.Hue){n.push(s);continue}if(s.type===c.ParenClose){if(t._i<t.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==c.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:c.None,value:void 0}),n.every(i=>i.type!==c.Alpha)?n:void 0}}function Zi(t,e){t._i=0;let n=t[t._i++];if(!n||n.type!==c.Function)return;let s=In(t,e);if(s)return s.unshift(n.value),s}const Wi=t=>{if(typeof t!="string")return;const e=Ji(t),n=e?Zi(e,!0):void 0;let s,i=0,r=Re.length;for(;i<r;)if((s=Re[i++](t,n))!==void 0)return s;return e?Yi(e):void 0};function Gi(t,e){if(!e||e[0]!=="rgb"&&e[0]!=="rgba")return;const n={mode:"rgb"},[,s,i,r,a]=e;if(!(s.type===c.Hue||i.type===c.Hue||r.type===c.Hue))return s.type!==c.None&&(n.r=s.type===c.Number?s.value/255:s.value/100),i.type!==c.None&&(n.g=i.type===c.Number?i.value/255:i.value/100),r.type!==c.None&&(n.b=r.type===c.Number?r.value/255:r.value/100),a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const Qi=t=>t==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,es=(t,e,n)=>t+n*(e-t),ts=t=>{let e=[];for(let n=0;n<t.length-1;n++){let s=t[n],i=t[n+1];s===void 0&&i===void 0?e.push(void 0):s!==void 0&&i!==void 0?e.push([s,i]):e.push(s!==void 0?[s,s]:[i,i])}return e},ns=t=>e=>{let n=ts(e);return s=>{let i=s*n.length,r=s>=1?n.length-1:Math.max(Math.floor(i),0),a=n[r];return a===void 0?void 0:t(a[0],a[1],i-r)}},h=ns(es),L=t=>{let e=!1,n=t.map(s=>s!==void 0?(e=!0,s):1);return e?n:t},le={mode:"rgb",channels:["r","g","b","alpha"],parse:[Gi,Ii,Di,Ei,Qi,"srgb"],serialize:"srgb",interpolate:{r:h,g:h,b:h,alpha:{use:h,fixup:L}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},et=(t=0)=>Math.pow(Math.abs(t),563/256)*Math.sign(t),sn=t=>{let e=et(t.r),n=et(t.g),s=et(t.b),i={mode:"xyz65",x:.5766690429101305*e+.1855582379065463*n+.1882286462349947*s,y:.297344975250536*e+.6273635662554661*n+.0752914584939979*s,z:.0270313613864123*e+.0706888525358272*n+.9913375368376386*s};return t.alpha!==void 0&&(i.alpha=t.alpha),i},tt=t=>Math.pow(Math.abs(t),256/563)*Math.sign(t),rn=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i={mode:"a98",r:tt(t*2.0415879038107465-e*.5650069742788597-.3447313507783297*n),g:tt(t*-.9692436362808798+e*1.8759675015077206+.0415550574071756*n),b:tt(t*.0134442806320312-e*.1183623922310184+1.0151749943912058*n)};return s!==void 0&&(i.alpha=s),i},nt=(t=0)=>{const e=Math.abs(t);return e<=.04045?t/12.92:(Math.sign(t)||1)*Math.pow((e+.055)/1.055,2.4)},fe=({r:t,g:e,b:n,alpha:s})=>{let i={mode:"lrgb",r:nt(t),g:nt(e),b:nt(n)};return s!==void 0&&(i.alpha=s),i},ne=t=>{let{r:e,g:n,b:s,alpha:i}=fe(t),r={mode:"xyz65",x:.4123907992659593*e+.357584339383878*n+.1804807884018343*s,y:.2126390058715102*e+.715168678767756*n+.0721923153607337*s,z:.0193308187155918*e+.119194779794626*n+.9505321522496607*s};return i!==void 0&&(r.alpha=i),r},it=(t=0)=>{const e=Math.abs(t);return e>.0031308?(Math.sign(t)||1)*(1.055*Math.pow(e,1/2.4)-.055):t*12.92},ue=({r:t,g:e,b:n,alpha:s},i="rgb")=>{let r={mode:i,r:it(t),g:it(e),b:it(n)};return s!==void 0&&(r.alpha=s),r},ie=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=ue({r:t*3.2409699419045226-e*1.537383177570094-.4986107602930034*n,g:t*-.9692436362808796+e*1.8759675015077204+.0415550574071756*n,b:t*.0556300796969936-e*.2039769588889765+1.0569715142428784*n});return s!==void 0&&(i.alpha=s),i},is={...le,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:t=>rn(ne(t)),xyz65:rn},toMode:{rgb:t=>ie(sn(t)),xyz65:sn}},C=t=>(t=t%360)<0?t+360:t,ss=(t,e)=>t.map((n,s,i)=>{if(n===void 0)return n;let r=C(n);return s===0||t[s-1]===void 0?r:e(r-C(i[s-1]))}).reduce((n,s)=>!n.length||s===void 0||n[n.length-1]===void 0?(n.push(s),n):(n.push(s+n[n.length-1]),n),[]),B=t=>ss(t,e=>Math.abs(e)<=180?e:e-360*Math.sign(e)),P=[-.14861,1.78277,-.29227,-.90649,1.97294,0],rs=Math.PI/180,as=180/Math.PI;let an=P[3]*P[4],on=P[1]*P[4],ln=P[1]*P[2]-P[0]*P[3];const os=({r:t,g:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=(ln*n+t*an-e*on)/(ln+an-on),r=n-i,a=(P[4]*(e-i)-P[2]*r)/P[3],o={mode:"cubehelix",l:i,s:i===0||i===1?void 0:Math.sqrt(r*r+a*a)/(P[4]*i*(1-i))};return o.s&&(o.h=Math.atan2(a,r)*as-120),s!==void 0&&(o.alpha=s),o},ls=({h:t,s:e,l:n,alpha:s})=>{let i={mode:"rgb"};t=(t===void 0?0:t+120)*rs,n===void 0&&(n=0);let r=e===void 0?0:e*n*(1-n),a=Math.cos(t),o=Math.sin(t);return i.r=n+r*(P[0]*a+P[1]*o),i.g=n+r*(P[2]*a+P[3]*o),i.b=n+r*(P[4]*a+P[5]*o),s!==void 0&&(i.alpha=s),i},He=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.s||!e.s)return 0;let n=C(t.h),s=C(e.h),i=Math.sin((s-n+360)/2*Math.PI/180);return 2*Math.sqrt(t.s*e.s)*i},fs=(t,e)=>{if(t.h===void 0||e.h===void 0)return 0;let n=C(t.h),s=C(e.h);return Math.abs(s-n)>180?n-(s-360*Math.sign(s-n)):s-n},De=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.c||!e.c)return 0;let n=C(t.h),s=C(e.h),i=Math.sin((s-n+360)/2*Math.PI/180);return 2*Math.sqrt(t.c*e.c)*i},X=t=>{let e=t.reduce((s,i)=>{if(i!==void 0){let r=i*Math.PI/180;s.sin+=Math.sin(r),s.cos+=Math.cos(r)}return s},{sin:0,cos:0}),n=Math.atan2(e.sin,e.cos)*180/Math.PI;return n<0?360+n:n},us={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:os},toMode:{rgb:ls},interpolate:{h:{use:h,fixup:B},s:h,l:h,alpha:{use:h,fixup:L}},difference:{h:He},average:{h:X}},G=({l:t,a:e,b:n,alpha:s},i="lch")=>{e===void 0&&(e=0),n===void 0&&(n=0);let r=Math.sqrt(e*e+n*n),a={mode:i,l:t,c:r};return r&&(a.h=C(Math.atan2(n,e)*180/Math.PI)),s!==void 0&&(a.alpha=s),a},Q=({l:t,c:e,h:n,alpha:s},i="lab")=>{n===void 0&&(n=0);let r={mode:i,l:t,a:e?e*Math.cos(n/180*Math.PI):0,b:e?e*Math.sin(n/180*Math.PI):0};return s!==void 0&&(r.alpha=s),r},jn=Math.pow(29,3)/Math.pow(3,3),Fn=Math.pow(6,3)/Math.pow(29,3),k={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},ae={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let st=t=>Math.pow(t,3)>Fn?Math.pow(t,3):(116*t-16)/jn;const Hn=({l:t,a:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=(t+16)/116,r=e/500+i,a=i-n/200,o={mode:"xyz65",x:st(r)*ae.X,y:st(i)*ae.Y,z:st(a)*ae.Z};return s!==void 0&&(o.alpha=s),o},Ae=t=>ie(Hn(t)),rt=t=>t>Fn?Math.cbrt(t):(jn*t+16)/116,Dn=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=rt(t/ae.X),r=rt(e/ae.Y),a=rt(n/ae.Z),o={mode:"lab65",l:116*r-16,a:500*(i-r),b:200*(r-a)};return s!==void 0&&(o.alpha=s),o},Ke=t=>{let e=Dn(ne(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},ze=1,An=1,be=26/180*Math.PI,Ee=Math.cos(be),_e=Math.sin(be),Kn=100/Math.log(139/100),Ot=({l:t,c:e,h:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i={mode:"lab65",l:(Math.exp(t*ze/Kn)-1)/.0039},r=(Math.exp(.0435*e*An*ze)-1)/.075,a=r*Math.cos(n/180*Math.PI-be),o=r*Math.sin(n/180*Math.PI-be);return i.a=a*Ee-o/.83*_e,i.b=a*_e+o/.83*Ee,s!==void 0&&(i.alpha=s),i},Pt=({l:t,a:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=e*Ee+n*_e,r=.83*(n*Ee-e*_e),a=Math.sqrt(i*i+r*r),o={mode:"dlch",l:Kn/ze*Math.log(1+.0039*t),c:Math.log(1+.075*a)/(.0435*An*ze)};return o.c&&(o.h=C((Math.atan2(r,i)+be)/Math.PI*180)),s!==void 0&&(o.alpha=s),o},fn=t=>Ot(G(t,"dlch")),un=t=>Q(Pt(t),"dlab"),ds={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:fn,rgb:t=>Ae(fn(t))},fromMode:{lab65:un,rgb:t=>un(Ke(t))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:h,a:h,b:h,alpha:{use:h,fixup:L}}},cs={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Ot,dlab:t=>Q(t,"dlab"),rgb:t=>Ae(Ot(t))},fromMode:{lab65:Pt,dlab:t=>G(t,"dlch"),rgb:t=>Pt(Ke(t))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:h,c:h,h:{use:h,fixup:B},alpha:{use:h,fixup:L}},difference:{h:De},average:{h:X}};function hs({h:t,s:e,i:n,alpha:s}){t=C(t!==void 0?t:0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.abs(t/60%2-1),r;switch(Math.floor(t/60)){case 0:r={r:n*(1+e*(3/(2-i)-1)),g:n*(1+e*(3*(1-i)/(2-i)-1)),b:n*(1-e)};break;case 1:r={r:n*(1+e*(3*(1-i)/(2-i)-1)),g:n*(1+e*(3/(2-i)-1)),b:n*(1-e)};break;case 2:r={r:n*(1-e),g:n*(1+e*(3/(2-i)-1)),b:n*(1+e*(3*(1-i)/(2-i)-1))};break;case 3:r={r:n*(1-e),g:n*(1+e*(3*(1-i)/(2-i)-1)),b:n*(1+e*(3/(2-i)-1))};break;case 4:r={r:n*(1+e*(3*(1-i)/(2-i)-1)),g:n*(1-e),b:n*(1+e*(3/(2-i)-1))};break;case 5:r={r:n*(1+e*(3/(2-i)-1)),g:n*(1-e),b:n*(1+e*(3*(1-i)/(2-i)-1))};break;default:r={r:n*(1-e),g:n*(1-e),b:n*(1-e)}}return r.mode="rgb",s!==void 0&&(r.alpha=s),r}function ps({r:t,g:e,b:n,alpha:s}){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.max(t,e,n),r=Math.min(t,e,n),a={mode:"hsi",s:t+e+n===0?0:1-3*r/(t+e+n),i:(t+e+n)/3};return i-r!==0&&(a.h=(i===t?(e-n)/(i-r)+(e<n)*6:i===e?(n-t)/(i-r)+2:(t-e)/(i-r)+4)*60),s!==void 0&&(a.alpha=s),a}const gs={mode:"hsi",toMode:{rgb:hs},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:ps},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:h,fixup:B},s:h,i:h,alpha:{use:h,fixup:L}},difference:{h:He},average:{h:X}};function ms({h:t,s:e,l:n,alpha:s}){t=C(t!==void 0?t:0),e===void 0&&(e=0),n===void 0&&(n=0);let i=n+e*(n<.5?n:1-n),r=i-(i-n)*2*Math.abs(t/60%2-1),a;switch(Math.floor(t/60)){case 0:a={r:i,g:r,b:2*n-i};break;case 1:a={r,g:i,b:2*n-i};break;case 2:a={r:2*n-i,g:i,b:r};break;case 3:a={r:2*n-i,g:r,b:i};break;case 4:a={r,g:2*n-i,b:i};break;case 5:a={r:i,g:2*n-i,b:r};break;default:a={r:2*n-i,g:2*n-i,b:2*n-i}}return a.mode="rgb",s!==void 0&&(a.alpha=s),a}function bs({r:t,g:e,b:n,alpha:s}){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.max(t,e,n),r=Math.min(t,e,n),a={mode:"hsl",s:i===r?0:(i-r)/(1-Math.abs(i+r-1)),l:.5*(i+r)};return i-r!==0&&(a.h=(i===t?(e-n)/(i-r)+(e<n)*6:i===e?(n-t)/(i-r)+2:(t-e)/(i-r)+4)*60),s!==void 0&&(a.alpha=s),a}const xs=(t,e)=>{switch(e){case"deg":return+t;case"rad":return t/Math.PI*180;case"grad":return t/10*9;case"turn":return t*360}},ys=new RegExp(`^hsla?\\(\\s*${ji}${oe}${ge}${oe}${ge}\\s*(?:,\\s*${_t}\\s*)?\\)$`),vs=t=>{let e=t.match(ys);if(!e)return;let n={mode:"hsl"};return e[3]!==void 0?n.h=+e[3]:e[1]!==void 0&&e[2]!==void 0&&(n.h=xs(e[1],e[2])),e[4]!==void 0&&(n.s=Math.min(Math.max(0,e[4]/100),1)),e[5]!==void 0&&(n.l=Math.min(Math.max(0,e[5]/100),1)),e[6]!==void 0?n.alpha=Math.max(0,Math.min(1,e[6]/100)):e[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+e[7]))),n};function Ms(t,e){if(!e||e[0]!=="hsl"&&e[0]!=="hsla")return;const n={mode:"hsl"},[,s,i,r,a]=e;if(s.type!==c.None){if(s.type===c.Percentage)return;n.h=s.value}if(i.type!==c.None){if(i.type===c.Hue)return;n.s=i.value/100}if(r.type!==c.None){if(r.type===c.Hue)return;n.l=r.value/100}return a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const Vn={mode:"hsl",toMode:{rgb:ms},fromMode:{rgb:bs},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Ms,vs],serialize:t=>`hsl(${t.h!==void 0?t.h:"none"} ${t.s!==void 0?t.s*100+"%":"none"} ${t.l!==void 0?t.l*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:h,fixup:B},s:h,l:h,alpha:{use:h,fixup:L}},difference:{h:He},average:{h:X}};function qn({h:t,s:e,v:n,alpha:s}){t=C(t!==void 0?t:0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.abs(t/60%2-1),r;switch(Math.floor(t/60)){case 0:r={r:n,g:n*(1-e*i),b:n*(1-e)};break;case 1:r={r:n*(1-e*i),g:n,b:n*(1-e)};break;case 2:r={r:n*(1-e),g:n,b:n*(1-e*i)};break;case 3:r={r:n*(1-e),g:n*(1-e*i),b:n};break;case 4:r={r:n*(1-e*i),g:n*(1-e),b:n};break;case 5:r={r:n,g:n*(1-e),b:n*(1-e*i)};break;default:r={r:n*(1-e),g:n*(1-e),b:n*(1-e)}}return r.mode="rgb",s!==void 0&&(r.alpha=s),r}function Bn({r:t,g:e,b:n,alpha:s}){t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.max(t,e,n),r=Math.min(t,e,n),a={mode:"hsv",s:i===0?0:1-r/i,v:i};return i-r!==0&&(a.h=(i===t?(e-n)/(i-r)+(e<n)*6:i===e?(n-t)/(i-r)+2:(t-e)/(i-r)+4)*60),s!==void 0&&(a.alpha=s),a}const Xn={mode:"hsv",toMode:{rgb:qn},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:Bn},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:h,fixup:B},s:h,v:h,alpha:{use:h,fixup:L}},difference:{h:He},average:{h:X}};function ws({h:t,w:e,b:n,alpha:s}){if(e===void 0&&(e=0),n===void 0&&(n=0),e+n>1){let i=e+n;e/=i,n/=i}return qn({h:t,s:n===1?1:1-e/(1-n),v:1-n,alpha:s})}function Ss(t){let e=Bn(t);if(e===void 0)return;let n=e.s!==void 0?e.s:0,s=e.v!==void 0?e.v:0,i={mode:"hwb",w:(1-n)*s,b:1-s};return e.h!==void 0&&(i.h=e.h),e.alpha!==void 0&&(i.alpha=e.alpha),i}function $s(t,e){if(!e||e[0]!=="hwb")return;const n={mode:"hwb"},[,s,i,r,a]=e;if(s.type!==c.None){if(s.type===c.Percentage)return;n.h=s.value}if(i.type!==c.None){if(i.type===c.Hue)return;n.w=i.value/100}if(r.type!==c.None){if(r.type===c.Hue)return;n.b=r.value/100}return a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const ks={mode:"hwb",toMode:{rgb:ws},fromMode:{rgb:Ss},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[$s],serialize:t=>`hwb(${t.h!==void 0?t.h:"none"} ${t.w!==void 0?t.w*100+"%":"none"} ${t.b!==void 0?t.b*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:h,fixup:B},w:h,b:h,alpha:{use:h,fixup:L}},difference:{h:fs},average:{h:X}},Un=203,Ve=.1593017578125,Jn=78.84375,qe=.8359375,Be=18.8515625,Xe=18.6875;function at(t){if(t<0)return 0;const e=Math.pow(t,1/Jn);return 1e4*Math.pow(Math.max(0,e-qe)/(Be-Xe*e),1/Ve)}function ot(t){if(t<0)return 0;const e=Math.pow(t/1e4,Ve);return Math.pow((qe+Be*e)/(1+Xe*e),Jn)}const lt=t=>Math.max(t/Un,0),dn=({i:t,t:e,p:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const i=at(t+.008609037037932761*e+.11102962500302593*n),r=at(t-.00860903703793275*e-.11102962500302599*n),a=at(t+.5600313357106791*e-.32062717498731885*n),o={mode:"xyz65",x:lt(2.070152218389422*i-1.3263473389671556*r+.2066510476294051*a),y:lt(.3647385209748074*i+.680566024947227*r-.0453045459220346*a),z:lt(-.049747207535812*i-.0492609666966138*r+1.1880659249923042*a)};return s!==void 0&&(o.alpha=s),o},ft=(t=0)=>Math.max(t*Un,0),cn=({x:t,y:e,z:n,alpha:s})=>{const i=ft(t),r=ft(e),a=ft(n),o=ot(.3592832590121217*i+.6976051147779502*r-.0358915932320289*a),l=ot(-.1920808463704995*i+1.1004767970374323*r+.0753748658519118*a),f=ot(.0070797844607477*i+.0748396662186366*r+.8433265453898765*a),u=.5*o+.5*l,d=1.61376953125*o-3.323486328125*l+1.709716796875*f,p=4.378173828125*o-4.24560546875*l-.132568359375*f,g={mode:"itp",i:u,t:d,p};return s!==void 0&&(g.alpha=s),g},Ls={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:dn,rgb:t=>ie(dn(t))},fromMode:{xyz65:cn,rgb:t=>cn(ne(t))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:h,t:h,p:h,alpha:{use:h,fixup:L}}},Os=134.03437499999998,Ps=16295499532821565e-27,ut=t=>{if(t<0)return 0;let e=Math.pow(t/1e4,Ve);return Math.pow((qe+Be*e)/(1+Xe*e),Os)},dt=(t=0)=>Math.max(t*203,0),Yn=({x:t,y:e,z:n,alpha:s})=>{t=dt(t),e=dt(e),n=dt(n);let i=1.15*t-.15*n,r=.66*e+.34*t,a=ut(.41478972*i+.579999*r+.014648*n),o=ut(-.20151*i+1.120649*r+.0531008*n),l=ut(-.0166008*i+.2648*r+.6684799*n),f=(a+o)/2,u={mode:"jab",j:.44*f/(1-.56*f)-Ps,a:3.524*a-4.066708*o+.542708*l,b:.199076*a+1.096799*o-1.295875*l};return s!==void 0&&(u.alpha=s),u},Ns=134.03437499999998,hn=16295499532821565e-27,ct=t=>{if(t<0)return 0;let e=Math.pow(t,1/Ns);return 1e4*Math.pow((qe-e)/(Xe*e-Be),1/Ve)},ht=t=>t/203,Zn=({j:t,a:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=(t+hn)/(.44+.56*(t+hn)),r=ct(i+.13860504*e+.058047316*n),a=ct(i-.13860504*e-.058047316*n),o=ct(i-.096019242*e-.8118919*n),l={mode:"xyz65",x:ht(1.661373024652174*r-.914523081304348*a+.23136208173913045*o),y:ht(-.3250758611844533*r+1.571847026732543*a-.21825383453227928*o),z:ht(-.090982811*r-.31272829*a+1.5227666*o)};return s!==void 0&&(l.alpha=s),l},Wn=t=>{let e=Yn(ne(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},Gn=t=>ie(Zn(t)),Cs={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Wn,xyz65:Yn},toMode:{rgb:Gn,xyz65:Zn},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:h,a:h,b:h,alpha:{use:h,fixup:L}}},pn=({j:t,a:e,b:n,alpha:s})=>{e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.sqrt(e*e+n*n),r={mode:"jch",j:t,c:i};return i&&(r.h=C(Math.atan2(n,e)*180/Math.PI)),s!==void 0&&(r.alpha=s),r},gn=({j:t,c:e,h:n,alpha:s})=>{n===void 0&&(n=0);let i={mode:"jab",j:t,a:e?e*Math.cos(n/180*Math.PI):0,b:e?e*Math.sin(n/180*Math.PI):0};return s!==void 0&&(i.alpha=s),i},Rs={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:gn,rgb:t=>Gn(gn(t))},fromMode:{rgb:t=>pn(Wn(t)),jab:pn},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:h,fixup:B},c:h,j:h,alpha:{use:h,fixup:L}},difference:{h:De},average:{h:X}},Ue=Math.pow(29,3)/Math.pow(3,3),It=Math.pow(6,3)/Math.pow(29,3);let pt=t=>Math.pow(t,3)>It?Math.pow(t,3):(116*t-16)/Ue;const jt=({l:t,a:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=(t+16)/116,r=e/500+i,a=i-n/200,o={mode:"xyz50",x:pt(r)*k.X,y:pt(i)*k.Y,z:pt(a)*k.Z};return s!==void 0&&(o.alpha=s),o},xe=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=ue({r:t*3.1341359569958707-e*1.6173863321612538-.4906619460083532*n,g:t*-.978795502912089+e*1.916254567259524+.03344273116131949*n,b:t*.07195537988411677-e*.2289768264158322+1.405386058324125*n});return s!==void 0&&(i.alpha=s),i},Qn=t=>xe(jt(t)),ye=t=>{let{r:e,g:n,b:s,alpha:i}=fe(t),r={mode:"xyz50",x:.436065742824811*e+.3851514688337912*n+.14307845442264197*s,y:.22249319175623702*e+.7168870538238823*n+.06061979053616537*s,z:.013923904500943465*e+.09708128566574634*n+.7140993584005155*s};return i!==void 0&&(r.alpha=i),r},gt=t=>t>It?Math.cbrt(t):(Ue*t+16)/116,Ft=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=gt(t/k.X),r=gt(e/k.Y),a=gt(n/k.Z),o={mode:"lab",l:116*r-16,a:500*(i-r),b:200*(r-a)};return s!==void 0&&(o.alpha=s),o},ei=t=>{let e=Ft(ye(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e};function Ts(t,e){if(!e||e[0]!=="lab")return;const n={mode:"lab"},[,s,i,r,a]=e;if(!(s.type===c.Hue||i.type===c.Hue||r.type===c.Hue))return s.type!==c.None&&(n.l=Math.min(Math.max(0,s.value),100)),i.type!==c.None&&(n.a=i.type===c.Number?i.value:i.value*125/100),r.type!==c.None&&(n.b=r.type===c.Number?r.value:r.value*125/100),a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const Ht={mode:"lab",toMode:{xyz50:jt,rgb:Qn},fromMode:{xyz50:Ft,rgb:ei},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-125,125],b:[-125,125]},parse:[Ts],serialize:t=>`lab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{l:h,a:h,b:h,alpha:{use:h,fixup:L}}},zs={...Ht,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Hn,rgb:Ae},fromMode:{xyz65:Dn,rgb:Ke},ranges:{l:[0,100],a:[-125,125],b:[-125,125]}};function Es(t,e){if(!e||e[0]!=="lch")return;const n={mode:"lch"},[,s,i,r,a]=e;if(s.type!==c.None){if(s.type===c.Hue)return;n.l=Math.min(Math.max(0,s.value),100)}if(i.type!==c.None&&(n.c=Math.max(0,i.type===c.Number?i.value:i.value*150/100)),r.type!==c.None){if(r.type===c.Percentage)return;n.h=r.value}return a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const Dt={mode:"lch",toMode:{lab:Q,rgb:t=>Qn(Q(t))},fromMode:{rgb:t=>G(ei(t)),lab:G},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[Es],serialize:t=>`lch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:h,fixup:B},c:h,l:h,alpha:{use:h,fixup:L}},difference:{h:De},average:{h:X}},_s={...Dt,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:t=>Q(t,"lab65"),rgb:t=>Ae(Q(t,"lab65"))},fromMode:{rgb:t=>G(Ke(t),"lch65"),lab65:t=>G(t,"lch65")},ranges:{l:[0,100],c:[0,150],h:[0,360]}},ti=({l:t,u:e,v:n,alpha:s})=>{e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.sqrt(e*e+n*n),r={mode:"lchuv",l:t,c:i};return i&&(r.h=C(Math.atan2(n,e)*180/Math.PI)),s!==void 0&&(r.alpha=s),r},ni=({l:t,c:e,h:n,alpha:s})=>{n===void 0&&(n=0);let i={mode:"luv",l:t,u:e?e*Math.cos(n/180*Math.PI):0,v:e?e*Math.sin(n/180*Math.PI):0};return s!==void 0&&(i.alpha=s),i},ii=(t,e,n)=>4*t/(t+15*e+3*n),si=(t,e,n)=>9*e/(t+15*e+3*n),Is=ii(k.X,k.Y,k.Z),js=si(k.X,k.Y,k.Z),Fs=t=>t<=It?Ue*t:116*Math.cbrt(t)-16,Nt=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Fs(e/k.Y),r=ii(t,e,n),a=si(t,e,n);!isFinite(r)||!isFinite(a)?i=r=a=0:(r=13*i*(r-Is),a=13*i*(a-js));let o={mode:"luv",l:i,u:r,v:a};return s!==void 0&&(o.alpha=s),o},Hs=(t,e,n)=>4*t/(t+15*e+3*n),Ds=(t,e,n)=>9*e/(t+15*e+3*n),As=Hs(k.X,k.Y,k.Z),Ks=Ds(k.X,k.Y,k.Z),Ct=({l:t,u:e,v:n,alpha:s})=>{if(t===void 0&&(t=0),t===0)return{mode:"xyz50",x:0,y:0,z:0};e===void 0&&(e=0),n===void 0&&(n=0);let i=e/(13*t)+As,r=n/(13*t)+Ks,a=k.Y*(t<=8?t/Ue:Math.pow((t+16)/116,3)),o=a*(9*i)/(4*r),l=a*(12-3*i-20*r)/(4*r),f={mode:"xyz50",x:o,y:a,z:l};return s!==void 0&&(f.alpha=s),f},Vs=t=>ti(Nt(ye(t))),qs=t=>xe(Ct(ni(t))),Bs={mode:"lchuv",toMode:{luv:ni,rgb:qs},fromMode:{rgb:Vs,luv:ti},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:h,fixup:B},c:h,l:h,alpha:{use:h,fixup:L}},difference:{h:De},average:{h:X}},Xs={...le,mode:"lrgb",toMode:{rgb:ue},fromMode:{rgb:fe},parse:["srgb-linear"],serialize:"srgb-linear"},Us={mode:"luv",toMode:{xyz50:Ct,rgb:t=>xe(Ct(t))},fromMode:{xyz50:Nt,rgb:t=>Nt(ye(t))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:h,u:h,v:h,alpha:{use:h,fixup:L}}},ri=({r:t,g:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.cbrt(.412221469470763*t+.5363325372617348*e+.0514459932675022*n),r=Math.cbrt(.2119034958178252*t+.6806995506452344*e+.1073969535369406*n),a=Math.cbrt(.0883024591900564*t+.2817188391361215*e+.6299787016738222*n),o={mode:"oklab",l:.210454268309314*i+.7936177747023054*r-.0040720430116193*a,a:1.9779985324311684*i-2.42859224204858*r+.450593709617411*a,b:.0259040424655478*i+.7827717124575296*r-.8086757549230774*a};return s!==void 0&&(o.alpha=s),o},Je=t=>{let e=ri(fe(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},ve=({l:t,a:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=Math.pow(t+.3963377773761749*e+.2158037573099136*n,3),r=Math.pow(t-.1055613458156586*e-.0638541728258133*n,3),a=Math.pow(t-.0894841775298119*e-1.2914855480194092*n,3),o={mode:"lrgb",r:4.076741636075957*i-3.3077115392580616*r+.2309699031821044*a,g:-1.2684379732850317*i+2.6097573492876887*r-.3413193760026573*a,b:-.0041960761386756*i-.7034186179359362*r+1.7076146940746117*a};return s!==void 0&&(o.alpha=s),o},Ye=t=>ue(ve(t));function Rt(t){const s=1.170873786407767;return .5*(s*t-.206+Math.sqrt((s*t-.206)*(s*t-.206)+4*.03*s*t))}function Ie(t){return(t*t+.206*t)/(1.170873786407767*(t+.03))}function Js(t,e){let n,s,i,r,a,o,l,f;-1.88170328*t-.80936493*e>1?(n=1.19086277,s=1.76576728,i=.59662641,r=.75515197,a=.56771245,o=4.0767416621,l=-3.3077115913,f=.2309699292):1.81444104*t-1.19445276*e>1?(n=.73956515,s=-.45954404,i=.08285427,r=.1254107,a=.14503204,o=-1.2684380046,l=2.6097574011,f=-.3413193965):(n=1.35733652,s=-.00915799,i=-1.1513021,r=-.50559606,a=.00692167,o=-.0041960863,l=-.7034186147,f=1.707614701);let u=n+s*t+i*e+r*t*t+a*t*e,d=.3963377774*t+.2158037573*e,p=-.1055613458*t-.0638541728*e,g=-.0894841775*t-1.291485548*e;{let m=1+u*d,y=1+u*p,v=1+u*g,S=m*m*m,M=y*y*y,R=v*v*v,O=3*d*m*m,E=3*p*y*y,H=3*g*v*v,D=6*d*d*m,U=6*p*p*y,_=6*g*g*v,N=o*S+l*M+f*R,q=o*O+l*E+f*H,ee=o*D+l*U+f*_;u=u-N*q/(q*q-.5*N*ee)}return u}function At(t,e){let n=Js(t,e),s=ve({l:1,a:n*t,b:n*e}),i=Math.cbrt(1/Math.max(s.r,s.g,s.b)),r=i*n;return[i,r]}function Ys(t,e,n,s,i,r=null){r||(r=At(t,e));let a;if((n-i)*r[1]-(r[0]-i)*s<=0)a=r[1]*i/(s*r[0]+r[1]*(i-n));else{a=r[1]*(i-1)/(s*(r[0]-1)+r[1]*(i-n));{let o=n-i,l=s,f=.3963377774*t+.2158037573*e,u=-.1055613458*t-.0638541728*e,d=-.0894841775*t-1.291485548*e,p=o+l*f,g=o+l*u,m=o+l*d;{let y=i*(1-a)+a*n,v=a*s,S=y+v*f,M=y+v*u,R=y+v*d,O=S*S*S,E=M*M*M,H=R*R*R,D=3*p*S*S,U=3*g*M*M,_=3*m*R*R,N=6*p*p*S,q=6*g*g*M,ee=6*m*m*R,I=4.0767416621*O-3.3077115913*E+.2309699292*H-1,z=4.0767416621*D-3.3077115913*U+.2309699292*_,Se=4.0767416621*N-3.3077115913*q+.2309699292*ee,j=z/(z*z-.5*I*Se),F=-I*j,J=-1.2684380046*O+2.6097574011*E-.3413193965*H-1,Y=-1.2684380046*D+2.6097574011*U-.3413193965*_,$e=-1.2684380046*N+2.6097574011*q-.3413193965*ee,T=Y/(Y*Y-.5*J*$e),A=-J*T,Z=-.0041960863*O-.7034186147*E+1.707614701*H-1,se=-.0041960863*D-.7034186147*U+1.707614701*_,ci=-.0041960863*N-.7034186147*q+1.707614701*ee,Vt=se/(se*se-.5*Z*ci),We=-Z*Vt;F=j>=0?F:1e6,A=T>=0?A:1e6,We=Vt>=0?We:1e6,a+=Math.min(F,Math.min(A,We))}}}return a}function Kt(t,e,n=null){n||(n=At(t,e));let s=n[0],i=n[1];return[i/s,i/(1-s)]}function ai(t,e,n){let s=At(e,n),i=Ys(e,n,t,1,t,s),r=Kt(e,n,s),a=.11516993+1/(7.4477897+4.1590124*n+e*(-2.19557347+1.75198401*n+e*(-2.13704948-10.02301043*n+e*(-4.24894561+5.38770819*n+4.69891013*e)))),o=.11239642+1/(1.6132032-.68124379*n+e*(.40370612+.90148123*n+e*(-.27087943+.6122399*n+e*(.00299215-.45399568*n-.14661872*e)))),l=i/Math.min(t*r[0],(1-t)*r[1]),f=t*a,u=(1-t)*o,d=.9*l*Math.sqrt(Math.sqrt(1/(1/(f*f*f*f)+1/(u*u*u*u))));return f=t*.4,u=(1-t)*.8,[Math.sqrt(1/(1/(f*f)+1/(u*u))),d,i]}function mn(t){const e=t.l!==void 0?t.l:0,n=t.a!==void 0?t.a:0,s=t.b!==void 0?t.b:0,i={mode:"okhsl",l:Rt(e)};t.alpha!==void 0&&(i.alpha=t.alpha);let r=Math.sqrt(n*n+s*s);if(!r)return i.s=0,i;let[a,o,l]=ai(e,n/r,s/r),f;if(r<o){let u=0,d=.8*a,p=1-d/o;f=(r-u)/(d+p*(r-u))*.8}else{let u=o,d=.2*o*o*1.25*1.25/a,p=1-d/(l-o);f=.8+.2*((r-u)/(d+p*(r-u)))}return f&&(i.s=f,i.h=C(Math.atan2(s,n)*180/Math.PI)),i}function bn(t){let e=t.h!==void 0?t.h:0,n=t.s!==void 0?t.s:0,s=t.l!==void 0?t.l:0;const i={mode:"oklab",l:Ie(s)};if(t.alpha!==void 0&&(i.alpha=t.alpha),!n||s===1)return i.a=i.b=0,i;let r=Math.cos(e/180*Math.PI),a=Math.sin(e/180*Math.PI),[o,l,f]=ai(i.l,r,a),u,d,p,g;n<.8?(u=1.25*n,d=0,p=.8*o,g=1-p/l):(u=5*(n-.8),d=l,p=.2*l*l*1.25*1.25/o,g=1-p/(f-l));let m=d+u*p/(1-g*u);return i.a=m*r,i.b=m*a,i}const Zs={...Vn,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:mn,rgb:t=>mn(Je(t))},toMode:{oklab:bn,rgb:t=>Ye(bn(t))}};function xn(t){let e=t.l!==void 0?t.l:0,n=t.a!==void 0?t.a:0,s=t.b!==void 0?t.b:0,i=Math.sqrt(n*n+s*s),r=i?n/i:1,a=i?s/i:1,[o,l]=Kt(r,a),f=.5,u=1-f/o,d=l/(i+e*l),p=d*e,g=d*i,m=Ie(p),y=g*m/p,v=ve({l:m,a:r*y,b:a*y}),S=Math.cbrt(1/Math.max(v.r,v.g,v.b,0));e=e/S,i=i/S*Rt(e)/e,e=Rt(e);const M={mode:"okhsv",s:i?(f+l)*g/(l*f+l*u*g):0,v:e?e/p:0};return M.s&&(M.h=C(Math.atan2(s,n)*180/Math.PI)),t.alpha!==void 0&&(M.alpha=t.alpha),M}function yn(t){const e={mode:"oklab"};t.alpha!==void 0&&(e.alpha=t.alpha);const n=t.h!==void 0?t.h:0,s=t.s!==void 0?t.s:0,i=t.v!==void 0?t.v:0,r=Math.cos(n/180*Math.PI),a=Math.sin(n/180*Math.PI),[o,l]=Kt(r,a),f=.5,u=1-f/o,d=1-s*f/(f+l-l*u*s),p=s*l*f/(f+l-l*u*s),g=Ie(d),m=p*g/d,y=ve({l:g,a:r*m,b:a*m}),v=Math.cbrt(1/Math.max(y.r,y.g,y.b,0)),S=Ie(i*d),M=p*S/d;return e.l=S*v,e.a=M*r*v,e.b=M*a*v,e}const Ws={...Xn,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:xn,rgb:t=>xn(Je(t))},toMode:{oklab:yn,rgb:t=>Ye(yn(t))}};function Gs(t,e){if(!e||e[0]!=="oklab")return;const n={mode:"oklab"},[,s,i,r,a]=e;if(!(s.type===c.Hue||i.type===c.Hue||r.type===c.Hue))return s.type!==c.None&&(n.l=Math.min(Math.max(0,s.type===c.Number?s.value:s.value/100),1)),i.type!==c.None&&(n.a=i.type===c.Number?i.value:i.value*.4/100),r.type!==c.None&&(n.b=r.type===c.Number?r.value:r.value*.4/100),a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const Qs={...Ht,mode:"oklab",toMode:{lrgb:ve,rgb:Ye},fromMode:{lrgb:ri,rgb:Je},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[Gs],serialize:t=>`oklab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`};function er(t,e){if(!e||e[0]!=="oklch")return;const n={mode:"oklch"},[,s,i,r,a]=e;if(s.type!==c.None){if(s.type===c.Hue)return;n.l=Math.min(Math.max(0,s.type===c.Number?s.value:s.value/100),1)}if(i.type!==c.None&&(n.c=Math.max(0,i.type===c.Number?i.value:i.value*.4/100)),r.type!==c.None){if(r.type===c.Percentage)return;n.h=r.value}return a.type!==c.None&&(n.alpha=Math.min(1,Math.max(0,a.type===c.Number?a.value:a.value/100))),n}const tr={...Dt,mode:"oklch",toMode:{oklab:t=>Q(t,"oklab"),rgb:t=>Ye(Q(t,"oklab"))},fromMode:{rgb:t=>G(Je(t),"oklch"),oklab:t=>G(t,"oklch")},parse:[er],serialize:t=>`oklch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},vn=t=>{let{r:e,g:n,b:s,alpha:i}=fe(t),r={mode:"xyz65",x:.486570948648216*e+.265667693169093*n+.1982172852343625*s,y:.2289745640697487*e+.6917385218365062*n+.079286914093745*s,z:0*e+.0451133818589026*n+1.043944368900976*s};return i!==void 0&&(r.alpha=i),r},Mn=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i=ue({r:t*2.4934969119414263-e*.9313836179191242-.402710784450717*n,g:t*-.8294889695615749+e*1.7626640603183465+.0236246858419436*n,b:t*.0358458302437845-e*.0761723892680418+.9568845240076871*n},"p3");return s!==void 0&&(i.alpha=s),i},nr={...le,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:t=>Mn(ne(t)),xyz65:Mn},toMode:{rgb:t=>ie(vn(t)),xyz65:vn}},mt=t=>{let e=Math.abs(t);return e>=1/512?Math.sign(t)*Math.pow(e,1/1.8):16*t},wn=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i={mode:"prophoto",r:mt(t*1.3457868816471585-e*.2555720873797946-.0511018649755453*n),g:mt(t*-.5446307051249019+e*1.5082477428451466+.0205274474364214*n),b:mt(t*0+e*0+1.2119675456389452*n)};return s!==void 0&&(i.alpha=s),i},bt=(t=0)=>{let e=Math.abs(t);return e>=16/512?Math.sign(t)*Math.pow(e,1.8):t/16},Sn=t=>{let e=bt(t.r),n=bt(t.g),s=bt(t.b),i={mode:"xyz50",x:.7977666449006423*e+.1351812974005331*n+.0313477341283922*s,y:.2880748288194013*e+.7118352342418731*n+899369387256e-16*s,z:0*e+0*n+.8251046025104602*s};return t.alpha!==void 0&&(i.alpha=t.alpha),i},ir={...le,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:wn,rgb:t=>wn(ye(t))},toMode:{xyz50:Sn,rgb:t=>xe(Sn(t))}},$n=1.09929682680944,sr=.018053968510807,xt=t=>{const e=Math.abs(t);return e>sr?(Math.sign(t)||1)*($n*Math.pow(e,.45)-($n-1)):4.5*t},kn=({x:t,y:e,z:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);let i={mode:"rec2020",r:xt(t*1.7166511879712683-e*.3556707837763925-.2533662813736599*n),g:xt(t*-.6666843518324893+e*1.6164812366349395+.0157685458139111*n),b:xt(t*.0176398574453108-e*.0427706132578085+.9421031212354739*n)};return s!==void 0&&(i.alpha=s),i},Ln=1.09929682680944,rr=.018053968510807,yt=(t=0)=>{let e=Math.abs(t);return e<rr*4.5?t/4.5:(Math.sign(t)||1)*Math.pow((e+Ln-1)/Ln,1/.45)},On=t=>{let e=yt(t.r),n=yt(t.g),s=yt(t.b),i={mode:"xyz65",x:.6369580483012911*e+.1446169035862083*n+.1688809751641721*s,y:.262700212011267*e+.6779980715188708*n+.059301716469862*s,z:0*e+.0280726930490874*n+1.0609850577107909*s};return t.alpha!==void 0&&(i.alpha=t.alpha),i},ar={...le,mode:"rec2020",fromMode:{xyz65:kn,rgb:t=>kn(ne(t))},toMode:{xyz65:On,rgb:t=>ie(On(t))},parse:["rec2020"],serialize:"rec2020"},te=.0037930732552754493,oi=Math.cbrt(te),vt=t=>Math.cbrt(t)-oi,or=t=>{const{r:e,g:n,b:s,alpha:i}=fe(t),r=vt(.3*e+.622*n+.078*s+te),a=vt(.23*e+.692*n+.078*s+te),o=vt(.2434226892454782*e+.2047674442449682*n+.5518098665095535*s+te),l={mode:"xyb",x:(r-a)/2,y:(r+a)/2,b:o-(r+a)/2};return i!==void 0&&(l.alpha=i),l},Mt=t=>Math.pow(t+oi,3),lr=({x:t,y:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const i=Mt(t+e)-te,r=Mt(e-t)-te,a=Mt(n+e)-te,o=ue({r:11.031566904639861*i-9.866943908131562*r-.16462299650829934*a,g:-3.2541473810744237*i+4.418770377582723*r-.16462299650829934*a,b:-3.6588512867136815*i+2.7129230459360922*r+1.9459282407775895*a});return s!==void 0&&(o.alpha=s),o},fr={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:lr},fromMode:{rgb:or},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:h,y:h,b:h,alpha:{use:h,fixup:L}}},ur={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:xe,lab:Ft},fromMode:{rgb:ye,lab:jt},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:h,y:h,z:h,alpha:{use:h,fixup:L}}},dr=t=>{let{x:e,y:n,z:s,alpha:i}=t;e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=0);let r={mode:"xyz50",x:1.0479298208405488*e+.0229467933410191*n-.0501922295431356*s,y:.0296278156881593*e+.990434484573249*n-.0170738250293851*s,z:-.0092430581525912*e+.0150551448965779*n+.7518742899580008*s};return i!==void 0&&(r.alpha=i),r},cr=t=>{let{x:e,y:n,z:s,alpha:i}=t;e===void 0&&(e=0),n===void 0&&(n=0),s===void 0&&(s=0);let r={mode:"xyz65",x:.9554734527042182*e-.0230985368742614*n+.0632593086610217*s,y:-.0283697069632081*e+1.0099954580058226*n+.021041398966943*s,z:.0123140016883199*e-.0205076964334779*n+1.3303659366080753*s};return i!==void 0&&(r.alpha=i),r},hr={mode:"xyz65",toMode:{rgb:ie,xyz50:dr},fromMode:{rgb:ne,xyz50:cr},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:h,y:h,z:h,alpha:{use:h,fixup:L}}},pr=({r:t,g:e,b:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const i={mode:"yiq",y:.29889531*t+.58662247*e+.11448223*n,i:.59597799*t-.2741761*e-.32180189*n,q:.21147017*t-.52261711*e+.31114694*n};return s!==void 0&&(i.alpha=s),i},gr=({y:t,i:e,q:n,alpha:s})=>{t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0);const i={mode:"rgb",r:t+.95608445*e+.6208885*n,g:t-.27137664*e-.6486059*n,b:t-1.10561724*e+1.70250126*n};return s!==void 0&&(i.alpha=s),i},mr={mode:"yiq",toMode:{rgb:gr},fromMode:{rgb:pr},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:h,i:h,q:h,alpha:{use:h,fixup:L}}},br=t=>Math.max(0,Math.min(1,t||0)),wt=t=>Math.round(br(t)*255),xr=zn("rgb"),yr=t=>{if(t===void 0)return;let e=wt(t.r),n=wt(t.g),s=wt(t.b);return"#"+(1<<24|e<<16|n<<8|s).toString(16).slice(1)},li=t=>yr(xr(t));w(is);w(us);w(ds);w(cs);w(gs);w(Vn);w(Xn);w(ks);w(Ls);w(Cs);w(Rs);w(Ht);w(zs);w(Dt);w(_s);w(Bs);w(Xs);w(Us);w(Zs);w(Ws);w(Qs);const fi=w(tr);w(nr);w(ir);w(ar);w(le);w(fr);w(ur);w(hr);w(mr);const ui=getComputedStyle(document.documentElement),vr=ui.getPropertyValue("--ncg-theme-accent-primary-default").trim(),Mr=ui.getPropertyValue("--ncg-theme-text-primary").trim(),Me=li(fi(vr)),we=li(fi(Mr));document.getElementById("about-img").src=`https://placehold.co/600x700/${Me.replace("#","")}/${we.replace("#","")}/png?text=NCG+Alpha`;document.getElementById("founder-img").src=`https://placehold.co/600x700/${Me.replace("#","")}/${we.replace("#","")}/png?text=Dr+Damien+Nouvel`;document.getElementById("insight-img-1").src=`https://placehold.co/800x600/${Me.replace("#","")}/${we.replace("#","")}/png?text=ESG+Innovation`;document.getElementById("insight-img-2").src=`https://placehold.co/800x600/${Me.replace("#","")}/${we.replace("#","")}/png?text=Digital+Twins`;document.getElementById("insight-img-3").src=`https://placehold.co/800x600/${Me.replace("#","")}/${we.replace("#","")}/png?text=Saudi+Sustainability`;const wr=async()=>{const t={en:{translation:await fetch("./translations/en.json").then(e=>e.json())},fr:{translation:await fetch("./translations/fr.json").then(e=>e.json())},ar:{translation:await fetch("./translations/ar.json").then(e=>e.json())}};await $.init({lng:localStorage.getItem("language")||"en",fallbackLng:"en",resources:t}),di()},di=()=>{document.querySelectorAll("[data-i18n]").forEach(t=>{const e=t.getAttribute("data-i18n");t.textContent=$.t(e)}),document.documentElement.lang=$.language,document.documentElement.dir=$.language==="ar"?"rtl":"ltr"},Sr={en:{flag:"fi-us",display:"EN"},fr:{flag:"fi-fr",display:"FR"},ar:{flag:"fi-sa",display:"AR"}},$r=t=>{const e=Sr[t],n=document.querySelector(".current-flag"),s=document.querySelector(".current-lang");n.className=`fi ${e.flag} current-flag`,s.textContent=e.display},kr=async t=>{await $.changeLanguage(t),localStorage.setItem("language",t),di(),$r(t)},je=document.getElementById("languageBtn"),Ze=document.getElementById("languageMenu");je.addEventListener("click",t=>{t.stopPropagation(),je.classList.toggle("active"),Ze.classList.toggle("active")});document.addEventListener("click",()=>{je.classList.remove("active"),Ze.classList.remove("active")});Ze.addEventListener("click",t=>{t.stopPropagation()});document.querySelectorAll(".language-option").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-lang");kr(e),je.classList.remove("active"),Ze.classList.remove("active")})});const Tt=document.getElementById("mobileMenuToggle"),zt=document.getElementById("mobileMenu");Tt.addEventListener("click",()=>{zt.classList.toggle("active");const t=Tt.querySelector("i");zt.classList.contains("active")?(t.classList.remove("fa-bars"),t.classList.add("fa-xmark")):(t.classList.remove("fa-xmark"),t.classList.add("fa-bars"))});document.querySelectorAll(".mobile-nav-link").forEach(t=>{t.addEventListener("click",()=>{zt.classList.remove("active");const e=Tt.querySelector("i");e.classList.remove("fa-xmark"),e.classList.add("fa-bars")})});const Et=document.querySelector(".navbar");window.addEventListener("scroll",()=>{window.pageYOffset<=0?Et.style.boxShadow="0 4px 30px rgba(0, 0, 0, 0.3)":Et.style.boxShadow="0 8px 40px rgba(0, 0, 0, 0.5)"});document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const n=document.querySelector(this.getAttribute("href"));if(n){const s=Et.offsetHeight,i=n.offsetTop-s;window.scrollTo({top:i,behavior:"smooth"})}})});const Pn=document.getElementById("contactForm");Pn.addEventListener("submit",t=>{t.preventDefault();const e={name:document.getElementById("name").value,email:document.getElementById("email").value,message:document.getElementById("message").value,privacy:document.getElementById("privacy").checked};console.log("Form submitted:",e),alert($.t("contact.form.successMessage")||"Message sent successfully!"),Pn.reset()});wr();
